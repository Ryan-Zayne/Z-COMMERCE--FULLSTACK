import{r as u,l as F,j as m,ab as de,s as me,g as ge}from"./index-BwfLVWqJ.js";import{I as pe}from"./IconBox-YxDSnL8e.js";import{B as ye}from"./button-VBJXnaAY.js";import{s as Q}from"./show-DNPzdLi--AqNA1k7S.js";import"./getSlot-D1_uG-Ym-wY9dNJG6.js";function he(e,t){return`${e} returned \`undefined\`. Seems you forgot to wrap component within ${t}`}function te(e={}){const{name:t,strict:r=!0,hookName:n="useContext",providerName:o="Provider",errorMessage:a,defaultValue:l}=e,i=u.createContext(l);i.displayName=t;function p(){const y=u.useContext(i);if(!y&&r){const w=new Error(a??he(n,o));throw w.name="ContextError",Error.captureStackTrace?.(w,p),w}return y}return[i.Provider,p,i]}function ve(e){return e==null?[]:Array.isArray(e)?e:[e]}var I=e=>typeof e=="string",C=e=>typeof e=="function",xe=Function.prototype.toString;xe.call(Object);var we=e=>e(),Ee=(...e)=>(...t)=>{e.forEach(function(r){r?.(...t)})};function re(e,t,...r){if(e in t){const o=t[e];return C(o)?o(...r):o}const n=new Error(`No matching key: ${JSON.stringify(e)} in ${JSON.stringify(Object.keys(t))}`);throw Error.captureStackTrace?.(n,re),n}var{min:Te,max:Re}=Math,Me=e=>Number.isNaN(e),Se=e=>Me(e)?0:e,Z=(e,t,r)=>Te(Re(Se(e),t),r);function ne(e){if(!Ne(e)||e===void 0)return e;const t=Reflect.ownKeys(e).filter(n=>typeof n=="string"),r={};for(const n of t){const o=e[n];o!==void 0&&(r[n]=ne(o))}return r}var Ne=e=>e&&typeof e=="object"&&e.constructor===Object;function be(e,t){let r=performance.now(),n;function o(a){const l=a-r;l>=t&&(r=t>0?a-l%t:a,e({startMs:r,deltaMs:l})),n=requestAnimationFrame(o)}return n=requestAnimationFrame(o),()=>cancelAnimationFrame(n)}function Ce(e,t){const r=performance.now();let n;function o(a){if(a-r>=t){e();return}n=requestAnimationFrame(o)}return n=requestAnimationFrame(o),()=>cancelAnimationFrame(n)}function G(...e){e.length===1?e[0]:e[1],e.length===2&&e[0]}function Pe(e,t){if(e==null)throw new Error(t())}var oe=e=>typeof e=="object"&&e!==null,ke=9,je=e=>oe(e)&&e.nodeType===ke,Ae=e=>oe(e)&&e===e.window;function $e(e){return je(e)?e:Ae(e)?e.document:e?.ownerDocument??document}function Ie(e){let t=e.activeElement;for(;t?.shadowRoot;){const r=t.shadowRoot.activeElement;if(r===t)break;t=r}return t}var Oe=(...e)=>e.map(t=>t?.trim?.()).filter(Boolean).join(" "),De=/((?:--)?(?:\w+-?)+)\s*:\s*([^;]*)/g,X=e=>{const t={};let r;for(;r=De.exec(e);)t[r[1]]=r[2];return t},Ve=(e,t)=>{if(I(e)){if(I(t))return`${e};${t}`;e=X(e)}else I(t)&&(t=X(t));return Object.assign({},e??{},t??{})};function D(...e){let t={};for(let r of e){for(let n in t){if(n.startsWith("on")&&typeof t[n]=="function"&&typeof r[n]=="function"){t[n]=Ee(r[n],t[n]);continue}if(n==="className"||n==="class"){t[n]=Oe(t[n],r[n]);continue}if(n==="style"){t[n]=Ve(t[n],r[n]);continue}t[n]=r[n]!==void 0?r[n]:t[n]}for(let n in r)t[n]===void 0&&(t[n]=r[n])}return t}var b=(e=>(e.NotStarted="Not Started",e.Started="Started",e.Stopped="Stopped",e))(b||{}),V="__init__";function _e(e){const t=()=>e.getRootNode?.()??document,r=()=>$e(t()),n=()=>r().defaultView??window,o=()=>Ie(t());return{...e,getRootNode:t,getDoc:r,getWin:n,getActiveElement:o,isActiveElement:i=>i===o(),getById:i=>t().getElementById(i)}}function Fe(e){return new Proxy({},{get(t,r){return r==="style"?n=>e({style:n}).style:e}})}var We=()=>e=>Array.from(new Set(e)),se=typeof globalThis.document<"u"?u.useLayoutEffect:u.useEffect;function O(e){const t=e().value??e().defaultValue,r=e().isEqual??Object.is,[n]=u.useState(t),[o,a]=u.useState(n),l=e().value!==void 0,i=u.useRef(o);i.current=l?e().value:o;const p=u.useRef(i.current);se(()=>{p.current=i.current},[o,e().value]);const y=f=>{const h=p.current,E=C(f)?f(h):f;e().debug&&console.log(`[bindable > ${e().debug}] setValue`,{next:E,prev:h}),l||a(E),r(E,h)||e().onChange?.(E,h)};function w(){return l?e().value:o}return{initial:n,ref:i,get:w,set(f){(e().sync?F.flushSync:we)(()=>y(f))},invoke(f,h){e().onChange?.(f,h)},hash(f){return e().hash?.(f)??String(f)}}}O.cleanup=e=>{u.useEffect(()=>e,[])};O.ref=e=>{const t=u.useRef(e);return{get:()=>t.current,set:r=>{t.current=r}}};function qe(e){const t=u.useRef(e);return{get(r){return t.current[r]},set(r,n){t.current[r]=n}}}var Ue=(e,t)=>{const r=u.useRef(!1),n=u.useRef(!1);u.useEffect(()=>{if(r.current&&n.current)return t();n.current=!0},[...(e??[]).map(o=>typeof o=="function"?o():o)]),u.useEffect(()=>(r.current=!0,()=>{r.current=!1}),[])};function Be(e,t={}){const r=u.useMemo(()=>{const{id:s,ids:c,getRootNode:g}=t;return _e({id:s,ids:c,getRootNode:g})},[t]),n=(...s)=>{e.debug&&console.log(...s)},o=e.props?.({props:ne(t),scope:r})??t,a=Le(o),l=e.context?.({prop:a,bindable:O,scope:r,flush:H,getContext(){return p},getComputed(){return $},getRefs(){return A}}),i=ae(l),p={get(s){return i.current?.[s].ref.current},set(s,c){i.current?.[s].set(c)},initial(s){return i.current?.[s].initial},hash(s){const c=i.current?.[s].get();return i.current?.[s].hash(c)}},y=u.useRef(new Map),w=u.useRef(null),f=u.useRef(null),h=u.useRef({type:""}),E=()=>({...h.current,current(){return h.current},previous(){return f.current}}),U=()=>({...v,matches(...s){return s.includes(v.ref.current)},hasTag(s){return!!e.states[v.ref.current]?.tags?.includes(s)}}),A=qe(e.refs?.({prop:a,context:p})??{}),T=()=>({state:U(),context:p,event:E(),prop:a,send:K,action:S,guard:B,track:Ue,refs:A,computed:$,flush:H,scope:r,choose:z}),S=s=>{const c=C(s)?s(T()):s;if(!c)return;const g=c.map(d=>{const x=e.implementations?.actions?.[d];return x||G(`[zag-js] No implementation found for action "${JSON.stringify(d)}"`),x});for(const d of g)d?.(T())},B=s=>C(s)?s(T()):e.implementations?.guards?.[s](T()),L=s=>{const c=C(s)?s(T()):s;if(!c)return;const g=c.map(x=>{const R=e.implementations?.effects?.[x];return R||G(`[zag-js] No implementation found for effect "${JSON.stringify(x)}"`),R}),d=[];for(const x of g){const R=x?.(T());R&&d.push(R)}return()=>d.forEach(x=>x?.())},z=s=>ve(s).find(c=>{let g=!c.guard;return I(c.guard)?g=!!B(c.guard):C(c.guard)&&(g=c.guard(T())),g}),$=s=>{Pe(e.computed,()=>"[zag-js] No computed object found on machine");const c=e.computed[s];return c({context:p,event:E(),prop:a,refs:A,scope:r,computed:$})},v=O(()=>({defaultValue:e.initialState({prop:a}),onChange(s,c){c&&(y.current.get(c)?.(),y.current.delete(c)),c&&S(e.states[c]?.exit),S(w.current?.actions);const g=L(e.states[s]?.effects);if(g&&y.current.set(s,g),c===V){S(e.entry);const d=L(e.effects);d&&y.current.set(V,d)}S(e.states[s]?.entry)}})),J=u.useRef(void 0),P=u.useRef(b.NotStarted);se(()=>{queueMicrotask(()=>{const g=P.current===b.Started;P.current=b.Started,n(g?"rehydrating...":"initializing...");const d=J.current??v.initial;v.invoke(d,g?v.get():V)});const s=y.current,c=v.ref.current;return()=>{n("unmounting..."),J.current=c,P.current=b.Stopped,s.forEach(g=>g?.()),y.current=new Map,w.current=null,queueMicrotask(()=>{S(e.exit)})}},[]);const fe=()=>"ref"in v?v.ref.current:v.get(),K=s=>{queueMicrotask(()=>{if(P.current!==b.Started)return;f.current=h.current,h.current=s,n("send",s);let c=fe();const g=e.states[c].on?.[s.type]??e.on?.[s.type],d=z(g);if(!d)return;w.current=d;const x=d.target??c;n("transition",d);const R=x!==c;R?F.flushSync(()=>v.set(x)):d.reenter&&!R?v.invoke(c,c):S(d.actions??[])})};return e.watch?.(T()),{state:U(),send:K,context:p,prop:a,scope:r,refs:A,computed:$,event:E(),getStatus:()=>P.current}}function ae(e){const t=u.useRef(e);return t.current=e,t}function Le(e){const t=ae(e);return function(n){return t.current[n]}}function H(e){queueMicrotask(()=>{F.flushSync(()=>e())})}var ze=Fe(e=>e);function Je(...e){return t=>{const r=[];for(const n of e)if(typeof n=="function"){const o=n(t);typeof o=="function"&&r.push(o)}else n&&(n.current=t);if(r.length)return()=>{for(const n of r)n()}}}function Ke(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}const _=e=>{const t=u.memo(u.forwardRef((r,n)=>{const{asChild:o,children:a,...l}=r;if(!o)return u.createElement(e,{...l,ref:n},a);const i=u.Children.only(a);if(!u.isValidElement(i))return null;const p=Ke(i);return u.cloneElement(i,{...D(l,i.props),ref:n?Je(n,p):p})}));return t.displayName=e.displayName||e.name,t},Qe=()=>{const e=new Map;return new Proxy(_,{apply(t,r,n){return _(n[0])},get(t,r){const n=r;return e.has(n)||e.set(n,_(n)),e.get(n)}})},W=Qe(),ie=()=>(e,t)=>t.reduce((r,n)=>{const[o,a]=r,l=n;return a[l]!==void 0&&(o[l]=a[l]),delete a[l],[o,a]},[{},{...e}]);var j=(e,t=[])=>({parts:(...r)=>{if(Ze(t))return j(e,r);throw new Error("createAnatomy().parts(...) should only be called once. Did you mean to use .extendWith(...) ?")},extendWith:(...r)=>j(e,[...t,...r]),omit:(...r)=>j(e,t.filter(n=>!r.includes(n))),rename:r=>j(r,t),keys:()=>t,build:()=>[...new Set(t)].reduce((r,n)=>Object.assign(r,{[n]:{selector:[`&[data-scope="${N(e)}"][data-part="${N(n)}"]`,`& [data-scope="${N(e)}"][data-part="${N(n)}"]`].join(", "),attrs:{"data-scope":N(e),"data-part":N(n)}}}),{})}),N=e=>e.replace(/([A-Z])([A-Z])/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[\s_]+/g,"-").toLowerCase(),Ze=e=>e.length===0;const[pt,Ge]=te({name:"EnvironmentContext",hookName:"useEnvironmentContext",providerName:"<EnvironmentProvider />",strict:!1,defaultValue:{getRootNode:()=>document,getDocument:()=>document,getWindow:()=>window}}),[Xe,q]=te({name:"TimerContext",hookName:"useTimerContext",providerName:"<TimerProvider />"}),ce=u.forwardRef((e,t)=>{const r=q(),n=D(r.getAreaProps(),e);return m.jsx(W.div,{...n,ref:t})});ce.displayName="TimerArea";const He=e=>e.children(q()),ue=u.forwardRef((e,t)=>{const[r,n]=ie()(e,["type"]),o=q(),a=D(o.getItemProps(r),n);return m.jsx(W.div,{...a,ref:t,children:o.formattedTime[r.type]})});ue.displayName="TimerItem";var Ye=j("timer").parts("root","area","control","item","itemValue","itemLabel","actionTrigger","separator"),M=Ye.build(),et=e=>e.ids?.root??`timer:${e.id}:root`,tt=e=>e.ids?.area??`timer:${e.id}:area`,Y=new Set(["start","pause","resume","reset","restart"]);function rt(e,t){const{state:r,send:n,computed:o,scope:a}=e,l=r.matches("running"),i=r.matches("paused"),p=o("time"),y=o("formattedTime"),w=o("progressPercent");return{running:l,paused:i,time:p,formattedTime:y,progressPercent:w,start(){n({type:"START"})},pause(){n({type:"PAUSE"})},resume(){n({type:"RESUME"})},reset(){n({type:"RESET"})},restart(){n({type:"RESTART"})},getRootProps(){return t.element({id:et(a),...M.root.attrs})},getAreaProps(){return t.element({role:"timer",id:tt(a),"aria-label":`${p.days} days ${y.hours}:${y.minutes}:${y.seconds}`,"aria-atomic":!0,...M.area.attrs})},getControlProps(){return t.element({...M.control.attrs})},getItemProps(f){const h=p[f.type];return t.element({...M.item.attrs,"data-type":f.type,style:{"--value":h}})},getItemLabelProps(f){return t.element({...M.itemLabel.attrs,"data-type":f.type})},getItemValueProps(f){return t.element({...M.itemValue.attrs,"data-type":f.type})},getSeparatorProps(){return t.element({"aria-hidden":!0,...M.separator.attrs})},getActionTriggerProps(f){if(!Y.has(f.action))throw new Error(`[zag-js] Invalid action: ${f.action}. Must be one of: ${Array.from(Y).join(", ")}`);return t.button({...M.actionTrigger.attrs,hidden:re(f.action,{start:()=>l||i,pause:()=>!l,reset:()=>!l&&!i,resume:()=>!i,restart:()=>!1}),type:"button",onClick(h){h.defaultPrevented||n({type:f.action.toUpperCase()})}})}}}var nt={props({props:e}){return it(e),{interval:1e3,...e}},initialState({prop:e}){return e("autoStart")?"running":"idle"},context({prop:e,bindable:t}){return{currentMs:t(()=>({defaultValue:e("startMs")??0}))}},watch({track:e,send:t,prop:r}){e([()=>r("startMs")],()=>{t({type:"RESTART"})})},on:{RESTART:{target:"running:temp",actions:["resetTime"]}},computed:{time:({context:e})=>ot(e.get("currentMs")),formattedTime:({computed:e})=>at(e("time")),progressPercent:({context:e,prop:t})=>{const r=t("targetMs");if(r==null)return 0;const n=t("startMs")??0,o=e.get("currentMs");return t("countdown")?Z(ee(o,r,n),0,1):Z(ee(o,n,r),0,1)}},states:{idle:{on:{START:{target:"running"},RESET:{actions:["resetTime"]}}},"running:temp":{effects:["waitForNextTick"],on:{CONTINUE:{target:"running"}}},running:{effects:["keepTicking"],on:{PAUSE:{target:"paused"},TICK:[{target:"idle",guard:"hasReachedTarget",actions:["invokeOnComplete"]},{actions:["updateTime","invokeOnTick"]}],RESET:{actions:["resetTime"]}}},paused:{on:{RESUME:{target:"running"},RESET:{target:"idle",actions:["resetTime"]}}}},implementations:{effects:{keepTicking({prop:e,send:t}){return be(({deltaMs:r})=>{t({type:"TICK",deltaMs:r})},e("interval"))},waitForNextTick({send:e}){return Ce(()=>{e({type:"CONTINUE"})},0)}},actions:{updateTime({context:e,prop:t,event:r}){const n=t("countdown")?-1:1,o=st(r.deltaMs,t("interval"));e.set("currentMs",a=>{const l=a+n*o;let i=t("targetMs");return i==null&&t("countdown")&&(i=0),t("countdown")&&i!=null?Math.max(l,i):!t("countdown")&&i!=null?Math.min(l,i):l})},resetTime({context:e,prop:t}){let r=t("targetMs");r==null&&t("countdown")&&(r=0),e.set("currentMs",t("startMs")??0)},invokeOnTick({context:e,prop:t,computed:r}){t("onTick")?.({value:e.get("currentMs"),time:r("time"),formattedTime:r("formattedTime")})},invokeOnComplete({prop:e}){e("onComplete")?.()}},guards:{hasReachedTarget:({context:e,prop:t})=>{let r=t("targetMs");if(r==null&&t("countdown")&&(r=0),r==null)return!1;const n=e.get("currentMs");return t("countdown")?n<=r:n>=r}}}};function ot(e){const t=Math.max(0,e),r=t%1e3,n=Math.floor(t/1e3)%60,o=Math.floor(t/(1e3*60))%60,a=Math.floor(t/(1e3*60*60))%24;return{days:Math.floor(t/(1e3*60*60*24)),hours:a,minutes:o,seconds:n,milliseconds:r}}function ee(e,t,r){const n=r-t;return n===0?0:(e-t)/n}function k(e,t=2){return e.toString().padStart(t,"0")}function st(e,t){return Math.floor(e/t)*t}function at(e){const{days:t,hours:r,minutes:n,seconds:o}=e;return{days:k(t),hours:k(r),minutes:k(n),seconds:k(o),milliseconds:k(e.milliseconds,3)}}function it(e){const{startMs:t,targetMs:r,countdown:n,interval:o}=e;if(o!=null&&(typeof o!="number"||o<=0))throw new Error(`[timer] Invalid interval: ${o}. Must be a positive number.`);if(t!=null&&(typeof t!="number"||t<0))throw new Error(`[timer] Invalid startMs: ${t}. Must be a non-negative number.`);if(r!=null&&(typeof r!="number"||r<0))throw new Error(`[timer] Invalid targetMs: ${r}. Must be a non-negative number.`);if(n&&t!=null&&r!=null&&t<=r)throw new Error(`[timer] Invalid countdown configuration: startMs (${t}) must be greater than targetMs (${r}).`);if(!n&&t!=null&&r!=null&&t>=r)throw new Error(`[timer] Invalid stopwatch configuration: startMs (${t}) must be less than targetMs (${r}).`);if(n&&r==null&&t!=null&&t<=0)throw new Error(`[timer] Invalid countdown configuration: startMs (${t}) must be greater than 0 when no targetMs is provided.`)}We()(["autoStart","countdown","getRootNode","id","ids","interval","onComplete","onTick","startMs","targetMs"]);const ct=e=>{const t=u.useId(),{getRootNode:r}=Ge(),n={id:t,getRootNode:r,...e},o=Be(nt,n);return rt(o,ze)},le=u.forwardRef((e,t)=>{const[r,n]=ie()(e,["id","ids","autoStart","interval","countdown","startMs","targetMs","onComplete","onTick"]),o=ct(r),a=D(o.getRootProps(),n);return m.jsx(Xe,{value:o,children:m.jsx(W.div,{...a,ref:t})})});le.displayName="TimerRoot";const ut=async()=>{const e=await de.getState().queryClient.ensureQueryData(me());ge("/auth/resend-verification",{body:{email:e.data?.user.email},method:"POST"})};function yt(){const[e,t]=u.useState(!0);return m.jsxs("main",{className:`z-10 flex w-[min(100%,480px)] flex-col items-center gap-[40px] rounded-[6px] bg-body\r
				py-[30px] md:px-[200px]`,children:[m.jsxs("section",{className:"flex flex-col items-center gap-[20px] text-center",children:[m.jsx("span",{className:"flex size-[70px] items-center justify-center rounded-full bg-primary",children:m.jsx(pe,{icon:"material-symbols:mail-rounded",className:"size-12"})}),m.jsxs("div",{className:"flex flex-col gap-[15px]",children:[m.jsx("h1",{className:"text-[20px] font-bold",children:"Check your email"}),m.jsx("p",{className:"text-[25px] text-white",children:"We've sent a verification link to your email address. Please check your inbox and click the link to verify your account."}),m.jsx("p",{className:"mt-[8px] text-[12px] text-carousel-dot",children:"Don't see the email? Check your spam folder or resend the verification email."})]})]}),m.jsx("section",{children:m.jsx(le,{autoStart:!0,countdown:!0,onComplete:()=>t(!1),startMs:30*1e3,children:m.jsx(He,{children:r=>m.jsx(ye,{className:"text-[13px]",theme:"secondary",disabled:e,onClick:()=>{ut(),r.restart(),t(!0)},children:m.jsxs(Q.Root,{when:e,children:[m.jsxs(ce,{className:"flex items-center gap-1 text-[13px]",children:["Resend in ",m.jsx(ue,{type:"seconds"})," seconds"]}),m.jsx(Q.Otherwise,{children:"Resend Email"})]})})})})})]})}export{yt as default};
