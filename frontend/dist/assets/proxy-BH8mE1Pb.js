import{r,M as j,P as N,Q as A,U as w,V as R,W as $,j as v,X as k,Y as x,Z as B,_ as U,$ as _,a0 as q,a1 as T,a2 as z,a3 as X,a4 as Y,a5 as Q,a6 as Z}from"./index-BwfLVWqJ.js";const J=r.createContext({});function K(t){const e=r.useRef(null);return e.current===null&&(e.current=t()),e.current}const tt=j?r.useLayoutEffect:r.useEffect,p=r.createContext(null),{schedule:et}=N(queueMicrotask,!1),E=r.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),nt=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function P(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||nt.has(t)}let I=t=>!P(t);function ot(t){typeof t=="function"&&(I=e=>e.startsWith("on")?!P(e):t(e))}try{ot(require("@emotion/is-prop-valid").default)}catch{}function at(t,e,n){const o={};for(const a in t)a==="values"&&typeof t.values=="object"||(I(a)||n===!0&&P(a)||!e&&!P(a)||t.draggable&&a.startsWith("onDrag"))&&(o[a]=t[a]);return o}function rt(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...o)=>t(...o);return new Proxy(n,{get:(o,a)=>a==="create"?t:(e.has(a)||e.set(a,t(a)),e.get(a))})}const h=r.createContext({});function it(t,e){if(A(t)){const{initial:n,animate:o}=t;return{initial:n===!1||w(n)?n:void 0,animate:w(o)?o:void 0}}return t.inherit!==!1?e:{}}function st(t){const{initial:e,animate:n}=it(t,r.useContext(h));return r.useMemo(()=>({initial:e,animate:n}),[L(e),L(n)])}function L(t){return Array.isArray(t)?t.join(" "):t}const ut=Symbol.for("motionComponentSymbol");function F(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function ct(t,e,n){return r.useCallback(o=>{o&&t.onMount&&t.onMount(o),e&&(o?e.mount(o):e.unmount()),n&&(typeof n=="function"?n(o):F(n)&&(n.current=o))},[e])}const lt=r.createContext({});function ft(t,e,n,o,a){const{visualElement:s}=r.useContext(h),f=r.useContext(R),u=r.useContext(p),g=r.useContext(E).reducedMotion,d=r.useRef(null);o=o||f.renderer,!d.current&&o&&(d.current=o(t,{visualState:e,parent:s,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:g}));const i=d.current,c=r.useContext(lt);i&&!i.projection&&a&&(i.type==="html"||i.type==="svg")&&dt(d.current,n,a,c);const l=r.useRef(!1);r.useInsertionEffect(()=>{i&&l.current&&i.update(n,u)});const m=n[$],y=r.useRef(!!m&&!window.MotionHandoffIsComplete?.(m)&&window.MotionHasOptimisedAnimation?.(m));return tt(()=>{i&&(l.current=!0,window.MotionIsMounted=!0,i.updateFeatures(),et.render(i.render),y.current&&i.animationState&&i.animationState.animateChanges())}),r.useEffect(()=>{i&&(!y.current&&i.animationState&&i.animationState.animateChanges(),y.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(m)}),y.current=!1))}),i}function dt(t,e,n,o){const{layoutId:a,layout:s,drag:f,dragConstraints:u,layoutScroll:g,layoutRoot:d,layoutCrossfade:i}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:D(t.parent)),t.projection.setOptions({layoutId:a,layout:s,alwaysMeasureLayout:!!f||u&&F(u),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:o,crossfade:i,layoutScroll:g,layoutRoot:d})}function D(t){if(t)return t.options.allowProjection!==!1?t.projection:D(t.parent)}function mt({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:o,Component:a}){function s(u,g){let d;const i={...r.useContext(E),...u,layoutId:yt(u)},{isStatic:c}=i,l=st(u),m=o(u,c);if(!c&&j){gt();const y=Mt(i);d=y.MeasureLayout,l.visualElement=ft(a,m,i,e,y.ProjectionNode)}return v.jsxs(h.Provider,{value:l,children:[d&&l.visualElement?v.jsx(d,{visualElement:l.visualElement,...i}):null,n(a,u,ct(m,l.visualElement,g),m,c,l.visualElement)]})}s.displayName=`motion.${typeof a=="string"?a:`create(${a.displayName??a.name??""})`}`;const f=r.forwardRef(s);return f[ut]=a,f}function yt({layoutId:t}){const e=r.useContext(J).id;return e&&t!==void 0?e+"-"+t:t}function gt(t,e){r.useContext(R).strict}function Mt(t){const{drag:e,layout:n}=k;if(!e&&!n)return{};const o={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?o.MeasureLayout:void 0,ProjectionNode:o.ProjectionNode}}const S=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function W(t,e,n){for(const o in e)!x(e[o])&&!B(o,n)&&(t[o]=e[o])}function Ct({transformTemplate:t},e){return r.useMemo(()=>{const n=S();return U(n,e,t),Object.assign({},n.vars,n.style)},[e])}function Pt(t,e){const n=t.style||{},o={};return W(o,n,t),Object.assign(o,Ct(t,e)),o}function ht(t,e){const n={},o=Pt(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=o,n}const O=()=>({...S(),attrs:{}});function xt(t,e,n,o){const a=r.useMemo(()=>{const s=O();return _(s,e,q(o),t.transformTemplate,t.style),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};W(s,t.style,t),a.style={...s,...a.style}}return a}function St(t=!1){return(n,o,a,{latestValues:s},f)=>{const g=(T(n)?xt:ht)(o,s,f,n),d=at(o,typeof n=="string",t),i=n!==r.Fragment?{...d,...g,ref:a}:{},{children:c}=o,l=r.useMemo(()=>x(c)?c.get():c,[c]);return r.createElement(n,{...i,children:l})}}function bt(t){return x(t)?t.get():t}function Vt({scrapeMotionValuesFromProps:t,createRenderState:e},n,o,a){return{latestValues:wt(n,o,a,t),renderState:e()}}const H=t=>(e,n)=>{const o=r.useContext(h),a=r.useContext(p),s=()=>Vt(t,e,o,a);return n?s():K(s)};function wt(t,e,n,o){const a={},s=o(t,{});for(const l in s)a[l]=bt(s[l]);let{initial:f,animate:u}=t;const g=A(t),d=z(t);e&&d&&!g&&t.inherit!==!1&&(f===void 0&&(f=e.initial),u===void 0&&(u=e.animate));let i=n?n.initial===!1:!1;i=i||f===!1;const c=i?u:f;if(c&&typeof c!="boolean"&&!X(c)){const l=Array.isArray(c)?c:[c];for(let m=0;m<l.length;m++){const y=Y(t,l[m]);if(y){const{transitionEnd:b,transition:Rt,...V}=y;for(const C in V){let M=V[C];if(Array.isArray(M)){const G=i?M.length-1:0;M=M[G]}M!==null&&(a[C]=M)}for(const C in b)a[C]=b[C]}}}return a}const vt={useVisualState:H({scrapeMotionValuesFromProps:Q,createRenderState:S})},Lt={useVisualState:H({scrapeMotionValuesFromProps:Z,createRenderState:O})};function jt(t,e){return function(o,{forwardMotionProps:a}={forwardMotionProps:!1}){const f={...T(o)?Lt:vt,preloadedFeatures:t,useRender:St(a),createVisualElement:e,Component:o};return mt(f)}}const At=jt(),pt=rt(At);export{J as L,E as M,p as P,tt as a,pt as m,K as u};
