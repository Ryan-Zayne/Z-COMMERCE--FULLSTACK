import{d,H as u,t as c}from"./index-CtoIyiXC.js";const e={added:"Product added successfully",removed:"Product was removed from cart",updated:"Item quantity has been updated"},p=(r,n)=>({cart:[],wishList:[],actions:{addToCart:t=>{const{cart:a}=n();if(a.some(s=>s.id===t.id)){const{incrementProductQuantity:s}=n().actions;s(t.id);return}r({cart:[...a,{...t,quantity:1}]}),c.success(e.added,{position:"top-center"})},clearCart:()=>r({cart:[]}),decrementProductQuantity:t=>{const{removeProductFromCart:a,updateProductQuantity:i}=n().actions,s=n().cart.find(o=>o.id===t);if(s){if(s.quantity===1){a(t);return}i(t,{updatedQuantity:s.quantity-1}),c.success(e.updated,{position:"top-center"})}},incrementProductQuantity:t=>{const{updateProductQuantity:a}=n().actions,i=n().cart.find(s=>s.id===t);!i||i.quantity>=i.stock||(a(t,{updatedQuantity:i.quantity+1}),c.success(e.updated,{position:"top-center"}))},removeProductFromCart:t=>{const a=n().cart.filter(i=>i.id!==t);r({cart:a}),c.success(e.removed,{position:"top-center"})},toggleAddToWishList:t=>{const{wishList:a}=n(),s=a.some(o=>o.id===t.id)?a.filter(o=>o.id!==t.id):[...a,t];r({wishList:s})},updateProductQuantity:(t,{updatedQuantity:a})=>{const i=n().cart.map(s=>s.id===t?{...s,quantity:a>1?a:s.quantity}:s);r({cart:i})}}}),y=d(u(p,{name:"shop",partialize:({actions:r,...n})=>n,version:1}));export{y as u};
